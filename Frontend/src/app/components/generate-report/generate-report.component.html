<div class="max-screen w-full top-0 min-h-screen left-0 flex">
    <app-sidebar class="min-h-screen"></app-sidebar>
    <div class="w-full max-h-screen min_oculy:p-20 p-5 flex flex-col">
        <div
            class="bg-secondColor p-5 w-full border border-firstColor rounded-3xl">
            <p class="font-impact min_oculy:text-6xl text-3xl min_oculy:mb-10 mb-2">
                Generar reportes
            </p>
            <div class="grid min_oculy:grid-cols-4 w-full gap-2">
                <div>
                    <label class="block mb-2 text-base font-medium text-gray-900 ">Tipo de reporte</label>
                    <select id="category" formControlName="state" (change)="changeType($event)"
                        class="bg-secondColor border border-firstColor text-gray-900 text-base rounded-lg focus:ring-primary-500 focus:border-primary-500 w-full p-2.5">
                        <option class="text-center text-base font-medium" value="C">General</option>
                        <option class="text-center text-base font-medium" value="P" selected>Por parqueadero</option>
                    </select>
                </div>
                <div>
                    <label class="block mb-2 text-base font-medium text-gray-900  ">Info</label>
                    <select id="category" formControlName="state" (change)="changePark($event)" #parks
                        class="bg-secondColor border border-firstColor text-gray-900 text-base rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5">
                        <option class="text-center text-base font-medium" value="S" selected>Seleccionar</option>
                        @for (item of reportCity; track $index) {
                            <option class="text-center text-base font-medium" [value]="item.codParqueadero">{{item.nombre}}</option>
                        }
                    </select>
                </div>
                <div class="flex items-end">
                    <button (click)="generatePDF()"
                        class="bg-firstColor font-medium text-secondColor text-3xl w-full h-12 rounded-3xl hover:bg-black">
                        Generar
                    </button>
                </div>
                <div class="flex items-end">
                    <button (click)="downloadPDF()"
                        class="bg-secondColor w-full text-firstColor border-firstColor font-medium text-3xl border-solid border-2 outline-firstColor flex mx-auto justify-center rounded-3xl p-1 hover:bg-black">
                        <img class="w-10 p-2" src="../../../../assets/resources/Recurso 28.png" alt="" />
                        Descargar </button>
                </div>
            </div>
        </div>
        <div class="p-5 overflow-hidden mt-3 w-full h-full rounded-3xl bg-yellow-300 border-firstColor border-solid border-2">
            <p class="font-medium text-4xl mb-2">Vista previa información</p>
            <div class="relative w-full h-full overflow-scroll scroll-view">
                <div class="absolute w-full h-full ">
                    @if (table.length !== 0) {
                        <table class="w-full">
                            <thead class="bg-firstColor bg-opacity-30">
                                <tr class="text-firstColor font-bold min_oculy:text-3xl text-xl">
                                    <th class="p-3 border border-firstColor">@if (type == 'C') {Código} @else {Fecha}</th>
                                    <th class="p-3 border border-firstColor">@if (type == 'C') {Parqueadero} @else {Reservas}</th>
                                    <th class="p-3 border border-firstColor">@if (type == 'C') {Total reservas} @else {Ingresos}</th>
                                    <th class="p-3 border border-firstColor ">@if (type == 'C') {Ingresos} @else {% Ocupación}</th>
                                </tr>
                            </thead>
                            <tbody class="min_oculy:text-xl text-lg">
                                @for (item of table; track $index) {
                                <tr class="font-bold text-center">
                                    <td class="border border-firstColor">{{item[0]}}</td>
                                    <td class="border border-firstColor">{{item[1]}}</td>
                                    <td class="border border-firstColor">{{item[2]}}</td>
                                    <td class="border border-firstColor">{{item[3]}}</td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    }
                </div>
            </div>
        </div>
    </div>
</div>